(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55],{2869:function(e,t,o){Promise.resolve().then(o.bind(o,9333))},9333:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return VideoChooserPage}});var i=o(7437),n=o(2265),s=o(1396),r=o.n(s),a=o(4505),l=o(9600),d=o(8460),c=o(101),h=o(3098),x=o(1684),p=o(1300),m=o(2089),f=(0,o(5113).Z)((0,i.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"}),"UploadFile"),components_VideoList=()=>{let[e,t]=(0,n.useState)([]),[o,s]=(0,n.useState)(null),[u,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{fetchVideos()},[]);let fetchVideos=async()=>{try{let e=await fetch("http://localhost:3000/api/videos");if(!e.ok)throw Error("Failed to load videos");let o=await e.json();t(o)}catch(e){s(e.message)}},handleUpload=async e=>{let t=e.target.files[0];if(t){if(!t.type.includes("video/")){s("Please select a video file");return}try{j(!0),s(null);let e=new FormData;e.append("video",t);let o=await fetch("http://localhost:3000/api/upload",{method:"POST",body:e});if(!o.ok)throw Error("Failed to upload video");await fetchVideos()}catch(e){s(e.message)}finally{j(!1)}}};return(0,i.jsx)(a.Z,{maxWidth:"md",sx:{paddingTop:4,paddingBottom:4},children:(0,i.jsxs)(l.Z,{sx:{p:3},children:[(0,i.jsxs)(d.Z,{sx:{mb:4,textAlign:"center"},children:[(0,i.jsx)("input",{type:"file",accept:"video/*",onChange:handleUpload,style:{display:"none"},id:"video-upload"}),(0,i.jsx)("label",{htmlFor:"video-upload",children:(0,i.jsx)(c.Z,{variant:"contained",component:"span",startIcon:(0,i.jsx)(f,{}),disabled:u,sx:{mb:2},children:u?"Uploading...":"Upload Video"})})]}),o&&(0,i.jsx)(h.Z,{severity:"error",sx:{mb:2},children:o}),0===e.length&&(0,i.jsx)(x.Z,{align:"center",color:"text.secondary",children:"No videos available"}),(0,i.jsx)(p.Z,{children:e.map(e=>(0,i.jsx)(m.ZP,{sx:{borderBottom:"1px solid #eee"},children:(0,i.jsx)(r(),{href:"/preview/".concat(encodeURIComponent(e)),style:{textDecoration:"none",color:"black",width:"100%",padding:"8px "},children:e})},e))})]})})},u=o(5425);function VideoChooserPage(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{}),(0,i.jsx)(components_VideoList,{})]})}},5425:function(e,t,o){"use strict";var i=o(7437),n=o(1396),s=o.n(n),r=o(4904),a=o(4505),l=o(3619),d=o(8460),c=o(1684),h=o(101),x=o(9862);t.Z=()=>(0,i.jsx)(r.Z,{position:"static",sx:{bgcolor:"white",boxShadow:1},children:(0,i.jsx)(a.Z,{maxWidth:"lg",children:(0,i.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("a",{href:"/",style:{textDecoration:"none"},children:(0,i.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{sx:{color:"primary.main",marginRight:1}}),(0,i.jsx)(c.Z,{variant:"h6",component:"div",sx:{color:"primary.main",fontWeight:"bold"},children:"Salamander"})]})}),(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(h.Z,{component:s(),href:"/",sx:{color:"text.primary",mx:1,"&:hover":{bgcolor:"grey.100"}},children:"Home"}),(0,i.jsx)(h.Z,{component:s(),href:"/videos",sx:{color:"text.primary",marginLeft:1,marginRight:1,"&:hover":{bgcolor:"grey.100"}},children:"Videos"})]})]})})})}},function(e){e.O(0,[159,779,971,472,744],function(){return e(e.s=2869)}),_N_E=e.O()}]);